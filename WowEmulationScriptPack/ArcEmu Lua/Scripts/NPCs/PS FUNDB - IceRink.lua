--< Made by Utsjitimmie and Underseas from projectsilvermoon.net >--
--< Ask us if you want to use (a part of) this script in your repack >--
--< You may ofcourse use it for your server without asking >--

--< Have fun!
--< ~Utsjitimmie
--< ~Underseas

---------------------------------------Fireworks and Music---------------------------------------------------------------
fireworkready = 1

function fireworks_reset(pUnit, Event)
fireworkready = 1
end

function firework_spawner(pUnit, Event)
if (fireworkready == 2) then
fireworkready = 3
pUnit:PlaySoundToSet(11810)
pUnit:SpawnGameObject(180860, -5095.41, -1666.76, 497.885, 2.32948, 1000)
pUnit:SpawnGameObject(180861, -5092.18, -1669.71, 497.886, 3.86199, 1500)
pUnit:SpawnGameObject(180862, -5089, -1673.5, 497.886, 3.98137, 2000)
pUnit:SpawnGameObject(180864, -5085.9, -1677.34, 497.884, 2.8182, 2500)
pUnit:SpawnGameObject(180865, -5083.15, -1681.5, 497.836, 3.50542, 3000)
pUnit:SpawnGameObject(180860, -5081.5, -1686.05, 497.836, 3.59574, 3500)
pUnit:SpawnGameObject(180861, -5080.47, -1690.13, 497.836, 3.22268, 4000)
pUnit:SpawnGameObject(180862, -5080.36, -1694.68, 497.836, 3.05696, 4500)
pUnit:SpawnGameObject(180864, -5080.68, -1699.33, 497.836, 2.85825, 5000)
pUnit:SpawnGameObject(180865, -5081.96, -1703.65, 497.875, 2.78521, 5500)
pUnit:SpawnGameObject(180860, -5084.06, -1708.04, 497.881, 2.73102, 6000)
pUnit:SpawnGameObject(180861, -5086.42, -1711.82, 497.837, 2.45063, 6500)
pUnit:SpawnGameObject(180862, -5089.14, -1715.04, 497.837, 2.3823, 7000)
pUnit:SpawnGameObject(180864, -5092.6, -1718.09, 497.837, 2.18595, 7500)
pUnit:SpawnGameObject(180865, -5102.27, -1724.12, 497.837, 1.88907, 8000)
pUnit:SpawnGameObject(180860, -5105.33, -1725.1, 497.837, 1.81053, 8500)
pUnit:SpawnGameObject(180861, -5108.64, -1725.58, 497.837, 1.76419, 9000)
pUnit:SpawnGameObject(180862, -5112.79, -1725.93, 497.837, 1.52543, 9500)
pUnit:SpawnGameObject(180864, -5116.62, -1725.44, 497.837, 1.53957, 10000)
pUnit:SpawnGameObject(180865, -5121.15, -1724.51, 497.837, 1.27646, 10500)
pUnit:SpawnGameObject(180860, -5125.44, -1722.9, 497.837, 1.0911, 11000)
pUnit:SpawnGameObject(180861, -5129.58, -1720.45, 497.837, 1.20813, 11500)
pUnit:SpawnGameObject(180862, -5132.73, -1719.04, 497.837, 1.13116, 12000)
pUnit:SpawnGameObject(180864, -5135.61, -1717.33, 497.837, 1.0911, 12500)
pUnit:SpawnGameObject(180865, -5138.42, -1715.63, 497.837, 1.14294, 13000)
pUnit:SpawnGameObject(180860, -5147.64, -1708.41, 497.837, 0.976436, 13500)
pUnit:SpawnGameObject(180861, -5151, -1706.37, 497.837, 0.993715, 14000)
pUnit:SpawnGameObject(180862, -5154.5, -1703.82, 497.837, 0.9945, 14500)
pUnit:SpawnGameObject(180864, -5157.85, -1701.68, 497.837, 0.992144, 15000)
pUnit:SpawnGameObject(180865, -5161.07, -1699.04, 497.837, 0.87512, 15500)
pUnit:SpawnGameObject(180860, -5164.43, -1696.31, 497.837, 0.690551, 16000)
pUnit:SpawnGameObject(180861, -5168.03, -1692.17, 497.837, 0.573527, 16500)
pUnit:SpawnGameObject(180862, -5170.58, -1688.11, 497.837, 0.574312, 17000)
pUnit:SpawnGameObject(180864, -5172.32, -1683.91, 497.837, 0.27429, 17500)
pUnit:SpawnGameObject(180865, -5173.1, -1679.44, 497.837, 0.265651, 18000)
pUnit:SpawnGameObject(180860, -5173.32, -1673.99, 497.837, 6.12315, 18500)
pUnit:SpawnGameObject(180861, -5172.65, -1669.74, 497.837, 5.86711, 19000)
pUnit:SpawnGameObject(180862, -5171, -1665.16, 497.851, 5.95743, 19500)
pUnit:SpawnGameObject(180864, -5169.2, -1660.97, 497.884, 5.91973, 20000)
pUnit:SpawnGameObject(180865, -5166.52, -1657.13, 497.884, 5.69589, 20500)
pUnit:SpawnGameObject(180860, -5163.74, -1654.38, 497.884, 5.56081, 21000)
pUnit:SpawnGameObject(180861, -5160.14, -1651.53, 497.884, 5.24665, 21500)
pUnit:SpawnGameObject(180862, -5156.33, -1649.33, 497.884, 5.15475, 22000)
pUnit:SpawnGameObject(180864, -5152.39, -1647.43, 497.887, 5.15318, 22500)
pUnit:SpawnGameObject(180865, -5148.16, -1646.68, 497.893, 4.81546, 23000)
pUnit:SpawnGameObject(180860, -5143.61, -1645.89, 497.901, 4.9317, 23500)
pUnit:SpawnGameObject(180861, -5139.05, -1645.93, 497.922, 4.73771, 24000)
pUnit:SpawnGameObject(180862, -5134.72, -1645.71, 497.962, 4.42433, 24500)
pUnit:SpawnGameObject(180864, -5131.09, -1646.69, 497.974, 4.45418, 25000)
pUnit:SpawnGameObject(180865, -5126.56, -1648.88, 497.947, 4.16751, 25500)
pUnit:SpawnGameObject(180860, -5123.33, -1651.4, 497.911, 4.66624, 26000)
pUnit:SpawnGameObject(180860, -5123.33, -1651.4, 497.911, 4.66624, 26500)
pUnit:SpawnGameObject(180865, -5126.56, -1648.88, 497.947, 4.16751, 27000)
pUnit:SpawnGameObject(180864, -5131.09, -1646.69, 497.974, 4.45418, 27500)
pUnit:SpawnGameObject(180862, -5134.72, -1645.71, 497.962, 4.42433, 28000)
pUnit:SpawnGameObject(180861, -5139.05, -1645.93, 497.922, 4.73771, 28500)
pUnit:SpawnGameObject(180860, -5143.61, -1645.89, 497.901, 4.9317, 29000)
pUnit:SpawnGameObject(180865, -5148.16, -1646.68, 497.893, 4.81546, 29500)
pUnit:SpawnGameObject(180864, -5152.39, -1647.43, 497.887, 5.15318, 30000)
pUnit:SpawnGameObject(180862, -5156.33, -1649.33, 497.884, 5.15475, 30500)
pUnit:SpawnGameObject(180861, -5160.14, -1651.53, 497.884, 5.24665, 31000)
pUnit:SpawnGameObject(180860, -5163.74, -1654.38, 497.884, 5.56081, 31500)
pUnit:SpawnGameObject(180865, -5166.52, -1657.13, 497.884, 5.69589, 32000)
pUnit:SpawnGameObject(180864, -5169.2, -1660.97, 497.884, 5.91973, 32500)
pUnit:SpawnGameObject(180862, -5171, -1665.16, 497.851, 5.95743, 33000)
pUnit:SpawnGameObject(180861, -5172.65, -1669.74, 497.837, 5.86711, 33500)
pUnit:SpawnGameObject(180860, -5173.32, -1673.99, 497.837, 6.12315, 34000)
pUnit:SpawnGameObject(180865, -5173.1, -1679.44, 497.837, 0.265651, 34500)
pUnit:SpawnGameObject(180864, -5172.32, -1683.91, 497.837, 0.27429, 35000)
pUnit:SpawnGameObject(180862, -5170.58, -1688.11, 497.837, 0.574312, 35500)
pUnit:SpawnGameObject(180861, -5168.03, -1692.17, 497.837, 0.573527, 36000)
pUnit:SpawnGameObject(180860, -5164.43, -1696.31, 497.837, 0.690551, 36500)
pUnit:SpawnGameObject(180865, -5161.07, -1699.04, 497.837, 0.87512, 37000)
pUnit:SpawnGameObject(180864, -5157.85, -1701.68, 497.837, 0.992144, 37500)
pUnit:SpawnGameObject(180862, -5154.5, -1703.82, 497.837, 0.9945, 38000)
pUnit:SpawnGameObject(180861, -5151, -1706.37, 497.837, 0.993715, 38500)
pUnit:SpawnGameObject(180860, -5147.64, -1708.41, 497.837, 0.976436, 39000)
pUnit:SpawnGameObject(180865, -5138.42, -1715.63, 497.837, 1.14294, 39500)
pUnit:SpawnGameObject(180864, -5135.61, -1717.33, 497.837, 1.0911, 40000)
pUnit:SpawnGameObject(180862, -5132.73, -1719.04, 497.837, 1.13116, 40500)
pUnit:SpawnGameObject(180861, -5129.58, -1720.45, 497.837, 1.20813, 41000)
pUnit:SpawnGameObject(180860, -5125.44, -1722.9, 497.837, 1.0911, 41500)
pUnit:SpawnGameObject(180865, -5121.15, -1724.51, 497.837, 1.27646, 42000)
pUnit:SpawnGameObject(180864, -5116.62, -1725.44, 497.837, 1.53957, 42500)
pUnit:SpawnGameObject(180862, -5112.79, -1725.93, 497.837, 1.52543, 43000)
pUnit:SpawnGameObject(180861, -5108.64, -1725.58, 497.837, 1.76419, 43500)
pUnit:SpawnGameObject(180860, -5105.33, -1725.1, 497.837, 1.81053, 44000)
pUnit:SpawnGameObject(180865, -5102.27, -1724.12, 497.837, 1.88907, 44500)
pUnit:SpawnGameObject(180864, -5092.6, -1718.09, 497.837, 2.18595, 45000)
pUnit:SpawnGameObject(180862, -5089.14, -1715.04, 497.837, 2.3823, 45500)
pUnit:SpawnGameObject(180861, -5086.42, -1711.82, 497.837, 2.45063, 46000)
pUnit:SpawnGameObject(180860, -5084.06, -1708.04, 497.881, 2.73102, 46500)
pUnit:SpawnGameObject(180865, -5081.96, -1703.65, 497.875, 2.78521, 47000)
pUnit:SpawnGameObject(180864, -5080.68, -1699.33, 497.836, 2.85825, 47500)
pUnit:SpawnGameObject(180862, -5080.36, -1694.68, 497.836, 3.05696, 48000)
pUnit:SpawnGameObject(180861, -5080.47, -1690.13, 497.836, 3.22268, 48500)
pUnit:SpawnGameObject(180860, -5081.5, -1686.05, 497.836, 3.59574, 49000)
pUnit:SpawnGameObject(180865, -5083.15, -1681.5, 497.836, 3.50542, 49500)
pUnit:SpawnGameObject(180864, -5085.9, -1677.34, 497.884, 2.8182, 50000)
pUnit:SpawnGameObject(180862, -5089, -1673.5, 497.886, 3.98137, 50500)
pUnit:SpawnGameObject(180861, -5092.18, -1669.71, 497.886, 3.86199, 51000)
pUnit:SpawnGameObject(180860, -5095.41, -1666.76, 497.885, 2.32948, 51500)
pUnit:RegisterEvent("fireworks_reset", 120000, 1)
end
end

function reg_firework_spawner(pUnit, Event)
pUnit:RegisterEvent("firework_spawner",10,0)
end
RegisterUnitEvent(10002537,18,"reg_firework_spawner")

function start_fireworks(pUnit, Event)
if (fireworkready == 1) then
fireworkready = 2
end
end
RegisterGameObjectEvent(5000029, 4, "start_fireworks")

function icer_teleport(pUnit, Event, pMisc)
pMisc:Teleport(0, -5102.58, -1668.04, 497.885)
end
RegisterGameObjectEvent(5000197, 4, "icer_teleport")